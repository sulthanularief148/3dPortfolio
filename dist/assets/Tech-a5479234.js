import{r as c,j as R,a as w}from"./index-5a747f66.js";import{B as X,V as T,M as P,F as z,u as Z,a as F,T as W,b as q,E as I,c as G,O as v,_ as J,d as K,e as Q,C as Y,P as V}from"./index-43782085.esm-4d8e1637.js";import{C as tt,O as et}from"./Computers-b5e140d5.js";import{m as ot}from"./react-merge-refs.esm-239dbb3c.js";import{S as rt}from"./SectionWrapper-7e582f78.js";import{t as nt}from"./index-edd464bf.js";import"./styles-bea25d13.js";import"./motion-db14ca0f.js";class st extends X{constructor(f,h,d,x){super();const b=[],O=[],B=[],i=new T,M=new P;M.makeRotationFromEuler(d),M.setPosition(h);const k=new P;k.copy(M).invert(),j(),this.setAttribute("position",new z(b,3)),this.setAttribute("normal",new z(O,3)),this.setAttribute("uv",new z(B,2));function j(){let t,e=[];const r=new T,s=new T;if(f.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const n=f.geometry,A=n.attributes.position,y=n.attributes.normal;if(n.index!==null){const u=n.index;for(t=0;t<u.count;t++)r.fromBufferAttribute(A,u.getX(t)),s.fromBufferAttribute(y,u.getX(t)),E(e,r,s)}else for(t=0;t<A.count;t++)r.fromBufferAttribute(A,t),s.fromBufferAttribute(y,t),E(e,r,s);for(e=p(e,i.set(1,0,0)),e=p(e,i.set(-1,0,0)),e=p(e,i.set(0,1,0)),e=p(e,i.set(0,-1,0)),e=p(e,i.set(0,0,1)),e=p(e,i.set(0,0,-1)),t=0;t<e.length;t++){const u=e[t];B.push(.5+u.position.x/x.x,.5+u.position.y/x.y),u.position.applyMatrix4(M),b.push(u.position.x,u.position.y,u.position.z),O.push(u.normal.x,u.normal.y,u.normal.z)}}function E(t,e,r){e.applyMatrix4(f.matrixWorld),e.applyMatrix4(k),r.transformDirection(f.matrixWorld),t.push(new U(e.clone(),r.clone()))}function p(t,e){const r=[],s=.5*Math.abs(x.dot(e));for(let n=0;n<t.length;n+=3){let A,y,u,L=0,l,m,g,D;const _=t[n+0].position.dot(e)-s,N=t[n+1].position.dot(e)-s,$=t[n+2].position.dot(e)-s;switch(A=_>0,y=N>0,u=$>0,L=(A?1:0)+(y?1:0)+(u?1:0),L){case 0:{r.push(t[n]),r.push(t[n+1]),r.push(t[n+2]);break}case 1:{if(A&&(l=t[n+1],m=t[n+2],g=a(t[n],l,e,s),D=a(t[n],m,e,s)),y){l=t[n],m=t[n+2],g=a(t[n+1],l,e,s),D=a(t[n+1],m,e,s),r.push(g),r.push(m.clone()),r.push(l.clone()),r.push(m.clone()),r.push(g.clone()),r.push(D);break}u&&(l=t[n],m=t[n+1],g=a(t[n+2],l,e,s),D=a(t[n+2],m,e,s)),r.push(l.clone()),r.push(m.clone()),r.push(g),r.push(D),r.push(g.clone()),r.push(m.clone());break}case 2:{A||(l=t[n].clone(),m=a(l,t[n+1],e,s),g=a(l,t[n+2],e,s),r.push(l),r.push(m),r.push(g)),y||(l=t[n+1].clone(),m=a(l,t[n+2],e,s),g=a(l,t[n],e,s),r.push(l),r.push(m),r.push(g)),u||(l=t[n+2].clone(),m=a(l,t[n],e,s),g=a(l,t[n+1],e,s),r.push(l),r.push(m),r.push(g));break}}}return r}function a(t,e,r,s){const n=t.position.dot(r)-s,A=e.position.dot(r)-s,y=n/(n-A);return new U(new T(t.position.x+y*(e.position.x-t.position.x),t.position.y+y*(e.position.y-t.position.y),t.position.z+y*(e.position.z-t.position.z)),new T(t.normal.x+y*(e.normal.x-t.normal.x),t.normal.y+y*(e.normal.y-t.normal.y),t.normal.z+y*(e.normal.z-t.normal.z)))}}}class U{constructor(f,h){this.position=f,this.normal=h}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const H=o=>o===Object(o)&&!Array.isArray(o)&&typeof o!="function";function C(o,f){const h=Z(x=>x.gl),d=F(W,H(o)?Object.values(o):o);if(c.useLayoutEffect(()=>{f==null||f(d)},[f]),c.useEffect(()=>{"initTexture"in h&&(Array.isArray(d)?d:[d]).forEach(h.initTexture)},[h,d]),H(o)){const x={};let b=0;for(const O in o)x[O]=d[b++];return x}else return d}C.preload=o=>F.preload(W,o);C.clear=o=>F.clear(W,o);function at(o){return Array.isArray(o)}function S(o=[0,0,0]){return at(o)?o:o instanceof T||o instanceof I?[o.x,o.y,o.z]:[o,o,o]}const it=c.forwardRef(function({debug:f,depthTest:h=!1,polygonOffsetFactor:d=-10,map:x,mesh:b,children:O,position:B,rotation:i,scale:M,...k},j){const E=c.useRef(null);c.useImperativeHandle(j,()=>E.current);const p=c.useRef(null);return c.useLayoutEffect(()=>{const a=(b==null?void 0:b.current)||E.current.parent,t=E.current;if(!(a instanceof q))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const e={position:new T,rotation:new I,scale:new T(1,1,1)};if(a){G(e,{position:B,scale:M});const r=a.matrixWorld.clone();if(a.matrixWorld.identity(),!i||typeof i=="number"){const s=new v;s.position.copy(e.position),s.lookAt(a.position),typeof i=="number"&&s.rotateZ(i),G(e,{rotation:s.rotation})}else G(e,{rotation:i});return t.geometry=new st(a,e.position,e.rotation,e.scale),p.current&&(G(p.current,e),p.current.traverse(s=>s.raycast=()=>null)),a.matrixWorld=r,()=>{t.geometry.dispose()}}},[b,...S(B),...S(M),...S(i)]),c.createElement("mesh",J({ref:E,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":d,"material-depthTest":h,"material-map":x},k),O,f&&c.createElement("mesh",{ref:p},c.createElement("boxGeometry",null),c.createElement("meshNormalMaterial",{wireframe:!0}),c.createElement("axesHelper",null)))}),lt=c.forwardRef(({children:o,enabled:f=!0,speed:h=1,rotationIntensity:d=1,floatIntensity:x=1,floatingRange:b=[-.1,.1],...O},B)=>{const i=c.useRef(null),M=c.useRef(Math.random()*1e4);return K(k=>{var j,E;if(!f||h===0)return;const p=M.current+k.clock.getElapsedTime();i.current.rotation.x=Math.cos(p/4*h)/8*d,i.current.rotation.y=Math.sin(p/4*h)/8*d,i.current.rotation.z=Math.sin(p/4*h)/20*d;let a=Math.sin(p/4*h)/10;a=Q.mapLinear(a,-.1,.1,(j=b==null?void 0:b[0])!==null&&j!==void 0?j:-.1,(E=b==null?void 0:b[1])!==null&&E!==void 0?E:.1),i.current.position.y=a*x,i.current.updateMatrix()}),c.createElement("group",O,c.createElement("group",{ref:ot([i,B]),matrixAutoUpdate:!1},o))}),ut=o=>{const[f]=C([o.imgUrl]);return R(lt,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[w("ambientLight",{intensity:.25}),w("directionalLight",{position:[0,0,.05]}),R("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[w("icosahedronGeometry",{args:[1,1]}),w("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),w(it,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:f,flatShading:!0})]})]})},ct=({icon:o})=>R(Y,{frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},children:[R(c.Suspense,{fallback:w(tt,{}),children:[w(et,{enableZoom:!1}),w(ut,{imgUrl:o})]}),w(V,{all:!0})]}),ft=()=>w("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:nt.map(o=>w("div",{className:"w-28 h-28",children:w(ct,{icon:o.icon})},o.name))}),wt=rt(ft,"");export{wt as default};
